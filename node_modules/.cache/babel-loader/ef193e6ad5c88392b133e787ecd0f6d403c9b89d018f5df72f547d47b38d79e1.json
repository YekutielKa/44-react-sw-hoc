{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\katan\\\\WebstormProjects\\\\44-react-sw-hoc\\\\src\\\\components\\\\AboutMe.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState } from 'react';\nimport { base_url, characters, defaultHero, navNames, period_month, StarWarsContext } from \"../utils/constants\";\nimport { useNavigate, useParams } from \"react-router-dom\";\nimport { withHeroId } from \"../hoc/withHeroId\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AboutMe = () => {\n  _s();\n  const [isLoading, setIsLoading] = useState(true);\n  const [hero, setHero] = useState();\n  useEffect(() => {\n    const hero1 = JSON.parse(localStorage.getItem(heroId));\n    if (hero1 && Date.now() - hero1.time < period_month) {\n      setIsLoading(false);\n      setHero(hero1.payload);\n    } else {\n      fetch(characters[heroId].url).then(response => response.json()).then(data => {\n        let payload = {\n          \"name\": data.name,\n          \"birth_year\": data.birth_year,\n          \"eye_color\": data.eye_color,\n          \"skin_color\": data.skin_color,\n          \"gender\": data.gender,\n          \"img\": data.image\n        };\n        setIsLoading(false);\n        setHero(payload);\n        localStorage.setItem(heroId, JSON.stringify({\n          time: Date.now(),\n          payload\n        }));\n      });\n    }\n    changeHero(heroId);\n  }, [heroId]);\n  if (isLoading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"spinner-border\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this);\n  } else {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Name: \", hero.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Birth year: \", hero.birth_year]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: [\"Gender: \", hero.gender]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: [\"Eye color: \", hero.eye_color]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: [\"Skin color: \", hero.skin_color]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: `${base_url}/${hero.img}`,\n        alt: hero.name,\n        name: hero.name,\n        title: hero.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 13\n    }, this);\n  }\n};\n_s(AboutMe, \"gB+xGMYRJZx2ueJTSB8L0grGFtE=\");\n_c = AboutMe;\nexport default withHeroId(navNames[1].route)(AboutMe);\nvar _c;\n$RefreshReg$(_c, \"AboutMe\");","map":{"version":3,"names":["React","useContext","useEffect","useState","base_url","characters","defaultHero","navNames","period_month","StarWarsContext","useNavigate","useParams","withHeroId","jsxDEV","_jsxDEV","AboutMe","_s","isLoading","setIsLoading","hero","setHero","hero1","JSON","parse","localStorage","getItem","heroId","Date","now","time","payload","fetch","url","then","response","json","data","name","birth_year","eye_color","skin_color","gender","image","setItem","stringify","changeHero","className","fileName","_jsxFileName","lineNumber","columnNumber","children","src","img","alt","title","_c","route","$RefreshReg$"],"sources":["C:/Users/katan/WebstormProjects/44-react-sw-hoc/src/components/AboutMe.js"],"sourcesContent":["import React, {useContext, useEffect, useState} from 'react';\r\nimport {base_url, characters, defaultHero, navNames, period_month, StarWarsContext} from \"../utils/constants\";\r\nimport {useNavigate, useParams} from \"react-router-dom\";\r\nimport {withHeroId} from \"../hoc/withHeroId\";\r\n\r\nconst AboutMe = () => {\r\n\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [hero, setHero] = useState();\r\n\r\n    useEffect(() => {\r\n\r\n        const hero1 = JSON.parse(localStorage.getItem(heroId));\r\n        if (hero1 && (Date.now() - hero1.time) < period_month) {\r\n            setIsLoading(false);\r\n            setHero(hero1.payload);\r\n        } else {\r\n            fetch(characters[heroId].url)\r\n                .then(response => response.json())\r\n                .then(data => {\r\n                    let payload = {\r\n                        \"name\": data.name,\r\n                        \"birth_year\": data.birth_year,\r\n                        \"eye_color\": data.eye_color,\r\n                        \"skin_color\": data.skin_color,\r\n                        \"gender\": data.gender,\r\n                        \"img\": data.image\r\n                    };\r\n                    setIsLoading(false);\r\n                    setHero(payload);\r\n                    localStorage.setItem(heroId, JSON.stringify({time: Date.now(), payload}));\r\n                })\r\n        }\r\n        changeHero(heroId);\r\n    }, [heroId])\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <div className=\"spinner-border\"></div>\r\n        );\r\n    } else {\r\n        return (\r\n            <div>\r\n                <h1>Name: {hero.name}</h1>\r\n                <h2>Birth year: {hero.birth_year}</h2>\r\n                <h3>Gender: {hero.gender}</h3>\r\n                <h4>Eye color: {hero.eye_color}</h4>\r\n                <h5>Skin color: {hero.skin_color}</h5>\r\n                <img src={`${base_url}/${hero.img}`} alt={hero.name}\r\n                     name={hero.name} title={hero.name}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default withHeroId(navNames[1].route)(AboutMe);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}